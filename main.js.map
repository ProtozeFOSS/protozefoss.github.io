{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/common/labeled-slider/labeled-slider.component.ts","./src/app/common/labeled-slider/labeled-slider.component.html","./src/app/common/toggle-switch/toggle-switch.component.ts","./src/app/common/toggle-switch/toggle-switch.component.html","./src/app/game-score/game-score-item/game-score-item.component.ts","./src/app/game-score/game-score-item/game-score-item.component.html","./src/app/game-score/game-score.ux.ts","./src/app/game-score/game-score.ux.html","./src/app/game-score/menu-game-score-item/menu-game-score-item.component.ts","./src/app/game-score/menu-game-score-item/menu-game-score-item.component.html","./src/app/olga-board/board-canvas/board-canvas.component.ts","./src/app/olga-board/board-canvas/board-canvas.component.html","./src/app/olga-board/olga-board.component.ts","./src/app/olga-board/olga-board.component.html","./src/app/playermove/playermove.component.ts","./src/app/playermove/playermove.component.html","./src/app/services/colors.service.ts","./src/app/services/engine.service.ts","./src/app/services/game-score.service.ts","./src/app/services/layout.service.ts","./src/app/settings/settings-board/settings-board.component.ts","./src/app/settings/settings-board/settings-board.component.html","./src/app/settings/settings-gamescore/settings-gamescore.component.ts","./src/app/settings/settings-gamescore/settings-gamescore.component.html","./src/app/settings/settings-menu/settings-menu.component.ts","./src/app/settings/settings-menu/settings-menu.component.html","./src/environments/environment.ts","./src/main.ts","jsdom (ignored)","jsdom/lib/jsdom/living/generated/utils (ignored)","jsdom/lib/jsdom/utils (ignored)"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import {\n  Component,\n  AfterViewInit,\n  ViewChild,\n  ElementRef,\n  Input,\n  Output,\n} from '@angular/core';\nimport { GamescoreUxComponent } from './game-score/game-score.ux';\nimport { OlgaBoardComponent } from './olga-board/olga-board.component';\nimport { ColorService } from './services/colors.service';\nimport { MatSliderChange } from '@angular/material/slider';\nimport { EngineService } from './services/engine.service';\nimport { Piece } from 'chessops/types';\nimport { LayoutService } from './services/layout.service';\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class Olga implements AfterViewInit {\n  title = 'Olga Test Bed';\n  @ViewChild(GamescoreUxComponent)\n  gameScoreUx: GamescoreUxComponent | null = null;\n  @ViewChild(OlgaBoardComponent)\n  olgaBoard: OlgaBoardComponent | null = null;\n  @ViewChild('olgaContainer')\n  olgaContainer: ElementRef | null = null;\n  @Input() gameScore: HTMLElement | null = null;\n  @Input() olgaID = '12312321';\n  @Output() gameScoreWidth: number | null = 389;\n  @Output() oldWidth: number | null = 0;\n  protected doneResizingScore = false;\n  constructor(\n    public layoutService: LayoutService,\n    public colorService: ColorService,\n    public chessEngine: EngineService\n  ) {\n    const date = new Date();\n    this.olgaID = 'OLGA-' + date.getTime().toString();\n    console.log('ID: ' + this.olgaID);\n  }\n\n  // tslint:disable-next-line: typedef\n  ngAfterViewInit() {\n    this.gameScore = document.getElementById('app-gamescore' + this.olgaID);\n    console.log('Got Game Score');\n    console.log(this.gameScoreUx);\n    this.colorService.initializeColorPalette();\n    this.layoutService.initializeLayout(this);\n\n    if (this.gameScoreUx) {\n      this.gameScoreUx.resizeHandleEvent = this.layoutService.onSliderDrag.bind(this.layoutService);\n    }\n  }\n  mouseMoved(event: MouseEvent): void {\n    if (this.gameScoreUx?.resizing) {\n      this.gameScoreUx?.resizeHandleEvent(event);\n    }\n    if (this.gameScoreUx && event.buttons === 0) {\n      this.gameScoreUx.resizing = false;\n    }\n  }\n\n\n  setBoardSize(size: number): void {\n    if (this.olgaBoard) {\n      this.olgaBoard.setBoardSize(size);\n    }\n  }\n  setGameScoreSize(size: number): void {\n    this.gameScoreWidth = size;\n    if (this.gameScoreUx) {\n      this.gameScoreUx.setWidth(this.gameScoreWidth);\n    }\n  }\n  ignoreEvent(event: MouseEvent): void {\n    console.log('Ignoring ' + event);\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}\n","<div #olgaContainer id=\"{{ this.olgaID }}-olga-container\" class=\"olga-container\" (mousemove)=\"mouseMoved($event)\">\n  <app-olga-board #olgaBoard [UUID]=\"this.olgaID\"></app-olga-board>\n  <app-game-score-ux id=\"app-gamescore{{this.olgaID}}\" (contextmenu)=\"ignoreEvent($event)\">\n  </app-game-score-ux>\n  <!-- <app-gamescore-settings #gameScore></app-gamescore-settings>\n  <button mat-button class=\"fenbutton\" (click)=\"\n      olgaBoard.setFen(\n        'rnbqkbnr/pp1ppppp/8/2p5/4P3/5N2/PPPP1PPP/RNBQKB1R b KQkq - 1 2'\n      )\n    \">\n    Set Fen\n  </button> -->\n</div>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppRoutingModule } from './app-routing.module';\nimport { Olga } from './app.component';\nimport { GamescoreSettingsComponent } from './settings/settings-gamescore/settings-gamescore.component';\nimport { GamescoreUxComponent } from './game-score/game-score.ux';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { PlayermoveComponent } from './playermove/playermove.component';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { GameScoreItemComponent } from './game-score/game-score-item/game-score-item.component';\nimport { ColorService } from './services/colors.service';\nimport { ToggleSwitchComponent } from './common/toggle-switch/toggle-switch.component';\nimport { LabeledSliderComponent } from './common/labeled-slider/labeled-slider.component';\nimport { SettingsMenuComponent } from './settings/settings-menu/settings-menu.component';\nimport { OlgaBoardComponent } from './olga-board/olga-board.component';\nimport { SettingsBoardComponent } from './settings/settings-board/settings-board.component';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MenuGameScoreItemComponent } from './game-score/menu-game-score-item/menu-game-score-item.component';\n\nimport { GameScoreService } from './services/game-score.service';\nimport { EngineService } from './services/engine.service';\nimport { LayoutService } from './services/layout.service';\nimport { BoardCanvasComponent } from './olga-board/board-canvas/board-canvas.component';\n@NgModule({\n  declarations: [\n    Olga,\n    GamescoreSettingsComponent,\n    OlgaBoardComponent,\n    GamescoreUxComponent,\n    GameScoreItemComponent,\n    PlayermoveComponent,\n    ToggleSwitchComponent,\n    LabeledSliderComponent,\n    SettingsMenuComponent,\n    SettingsBoardComponent,\n    MenuGameScoreItemComponent,\n    BoardCanvasComponent,\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    MatButtonModule,\n    MatCardModule,\n    MatDividerModule,\n    MatIconModule,\n    MatInputModule,\n    MatGridListModule,\n    MatMenuModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n    MatTabsModule,\n  ],\n  providers: [LayoutService, ColorService, EngineService, GameScoreService],\n  bootstrap: [Olga],\n})\nexport class AppModule { }\n","import { Component, OnInit, Input } from '@angular/core';\nimport {  } from '@angular/material/slider';\n@Component({\n  selector: 'app-labeled-slider',\n  templateUrl: './labeled-slider.component.html',\n  styleUrls: ['./labeled-slider.component.scss']\n})\nexport class LabeledSliderComponent implements OnInit {\n  @Input() value = 18;\n  @Input() minimum = 14;\n  @Input() maximum = 24;\n  @Input() step = 1;\n  @Input() label = 'labeled slider';\n\n  constructor() { }\n\n  ngOnInit(): void {\n\n  }\n\n  inputEventCapture(event: any): void {\n    console.log(event);\n  }\n\n}\n","<mat-slider #scoreFontSize thumbLabel class=\"ls-slider\" (input)=\"inputEventCapture($event)\" [value]=\"value\" [min]=\"minimum\" [max]=\"maximum\" [step]=\"step\"></mat-slider>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-toggle-switch',\n  templateUrl: './toggle-switch.component.html',\n  styleUrls: ['./toggle-switch.component.scss']\n})\nexport class ToggleSwitchComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>toggle-switch works!</p>\n","import { Component, OnInit, Input, AfterViewInit } from '@angular/core';\nimport { GameScoreType, GameScoreService, GameScoreItem } from '../../services/game-score.service';\n\n@Component({\n  selector: 'app-game-score-item',\n  templateUrl: './game-score-item.component.html',\n  styleUrls: ['./game-score-item.component.scss']\n})\nexport class GameScoreItemComponent implements OnInit, AfterViewInit {\n  @Input() data: GameScoreItem | null = null;\n  @Input() type = GameScoreType.GameScoreGroup;\n  @Input() typeName = '';\n  constructor(public gameScoreService: GameScoreService)\n  {\n    this.typeName = this.gameScoreService.typeToString(this.type);\n  }\n\n  ngOnInit(): void {\n  }\n\n  ngAfterViewInit(): void {\n\n  }\n\n}\n","<div class=\"gsi-container {{typeName}}\">\n  <div class=\"gsi-ply {{typeName}}\">{{this.data?.moveData?.ply}}</div>{{this.data?.moveData?.move}}\n</div>","import {\n  Component,\n  OnInit,\n  ChangeDetectionStrategy,\n  Input,\n  Output,\n  AfterViewInit,\n  ViewChild,\n  ElementRef,\n} from '@angular/core';\nimport {\n  trigger,\n  state,\n  style,\n  animate,\n  transition,\n  // ...\n} from '@angular/animations';\nimport {\n  GameScoreService,\n  GameScoreItem,\n} from '../services/game-score.service';\nimport { MenuGameScoreItemComponent } from './menu-game-score-item/menu-game-score-item.component';\ninterface Move {\n  w: string;\n  b: string;\n}\n\n@Component({\n  selector: 'app-game-score-ux',\n  templateUrl: './game-score.ux.html',\n  styleUrls: ['./game-score.ux.scss'],\n})\nexport class GamescoreUxComponent implements OnInit, AfterViewInit {\n  @ViewChild(MenuGameScoreItemComponent)\n  scoreItemMenu: MenuGameScoreItemComponent | null = null;\n  @ViewChild('resizeHandle')\n  resizeHandle: ElementRef | null = null;\n  @ViewChild('gamescore-container') container: ElementRef | null = null;\n  @Input() gameScoreFontSize: number | null = 24;\n  columnCount = 3;\n  gameScore: Move[] = [];\n  rowHeight = '50px';\n  maxPlySize = 178;\n  @Output() resizing = false;\n  @Input() scoreWidth: number | null = 360;\n  protected previousCursor = 'pointer';\n  constructor(public gameScoreService: GameScoreService) {\n    this.gameScore = [\n      { w: 'd4', b: 'Qd5' },\n      { w: 'Nf3', b: 'Bf6' },\n      { w: 'Rf3', b: 'Qf6' },\n      { w: 'Kf3', b: 'f6' },\n    ];\n    this.gameScoreService.figurineNotation.subscribe((figurineNotation) => {\n      if (figurineNotation) {\n        console.log('Setting Font to : ' + 'FigurineSymbolT1');\n        this.gameScoreService.scoreFontFamily.next('FigurineSymbolT1');\n      } else {\n        console.log('Setting Font to : ' + 'Caveat');\n        this.gameScoreService.scoreFontFamily.next('Cambria');\n      }\n    });\n  }\n\n  ngOnInit(): void {\n    console.log(this.gameScore);\n  }\n\n  ngAfterViewInit(): void {\n    this.gameScoreService.loadPGN('');\n    this.resizeScore();\n  }\n\n  resizeScore(): void {\n    if (this.scoreWidth) {\n      this.columnCount = Math.floor(this.scoreWidth / this.maxPlySize);\n    } else {\n      this.columnCount = 3;\n    }\n  }\n\n  openItemMenu(event: MouseEvent, item: GameScoreItem): void {\n    event.preventDefault();\n    event.stopPropagation();\n    console.log('Right clicked on item ' + item?.moveData?.move);\n    this.scoreItemMenu?.openAt(item);\n  }\n\n  ignoreEvent(event: MouseEvent): void {\n    console.log('Ignoring ' + event);\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  setWidth(width: number | null): void {\n    if (width) {\n      this.columnCount = Math.floor(width / this.maxPlySize);\n    }\n  }\n\n  resetResizeHandle(event: DragEvent | MouseEvent): void {\n    this.resizing = false;\n    if (this.resizeHandle && event.buttons === 0) {\n      document.body.style.cursor = this.previousCursor;\n    }\n    if (this.resizeHandleEvent) {\n      this.resizeHandleEvent(event);\n    }\n  }\n\n  setGrabCursor(event: DragEvent | MouseEvent): void {\n    this.previousCursor = document.body.style.cursor;\n    this.resizing = true;\n    document.body.style.cursor = 'grab';\n    if (this.resizeHandle) {\n      this.resizeHandle.nativeElement.style.cursor = 'grab';\n    }\n  }\n\n  resizeHandleEvent(event: DragEvent | MouseEvent): void {\n    if (this.resizing) {\n      this.resizeScore();\n    }\n  }\n\n  resizeHandleCore(event: DragEvent | MouseEvent): void {\n    event.preventDefault();\n    event.stopPropagation();\n    document.body.style.cursor = 'grab';\n    if (this.resizeHandle) {\n      this.resizeHandle.nativeElement.style.cursor = 'grab';\n    }\n    if (event.buttons > 0 && this.resizeHandleEvent) {\n      this.resizeHandleEvent(event);\n    }\n  }\n}\n","<app-menu-game-score-item class=\"gs-menu\" #scoreItemMenu [style.z-index]=\"scoreItemMenu.open ? 20 : -1\"\n  (click)=\"scoreItemMenu.open = false;\"></app-menu-game-score-item>\n<mat-card class=\"gamescore-container\">\n  <mat-card-title>\n    <h1 class=\"score-title\">Score</h1>\n  </mat-card-title>\n  <mat-card-content class=\"score-list\">\n    <app-game-score-item *ngFor=\"let item of (gameScoreService.items | async); index as i;\" [data]=\"item\"\n      (contextmenu)=\"openItemMenu($event, item)\"></app-game-score-item>\n    <!-- <mat-grid-list  cols=\"{{this.columnCount}}\" rowHeight=\"{{this.rowHeight}}\">\n      <mat-grid-tile class=\"score-font\" *ngFor=\"let moves of gameScore; index as i;\">\n        <b class=\"score-ply\">{{i+1}}.</b> <app-playermove [move]=\"moves.w\" [black]=\"false\"></app-plSayermove>  <app-playermove [black]=\"true\" [move]=\"moves.b\"></app-playermove>\n      </mat-grid-tile>\n    </mat-grid-list> -->\n  </mat-card-content>\n</mat-card>\n<div #resizeHandle class=\"resize-handle\" (mouseup)=\"resetResizeHandle($event)\" (mousedown)=\"setGrabCursor($event)\">\n</div>","import { Component, OnInit, Input, ViewChild, AfterViewInit } from '@angular/core';\nimport { GameScoreItem } from 'src/app/services/game-score.service';\nimport { MatMenuTrigger } from '@angular/material/menu';\n\n@Component({\n  selector: 'app-menu-game-score-item',\n  templateUrl: './menu-game-score-item.component.html',\n  styleUrls: ['./menu-game-score-item.component.scss']\n})\n\nexport class MenuGameScoreItemComponent implements OnInit, AfterViewInit{\n  @Input() data: GameScoreItem | null = null\n  @Input() menuTitle = 'Menu Title';\n  public open = false;\n  @ViewChild(MatMenuTrigger) matMenuTrigger: MatMenuTrigger | null = null;\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  ngAfterViewInit(): void {\n    this.matMenuTrigger?.menuClosed.subscribe(() => {\n      console.log('Menu closed');\n    });\n  }\n\n  ignoreEvent(event: MouseEvent): void {\n    console.log('Ignoring ' + event);\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  openAt(item: GameScoreItem): void {\n    this.open = true;\n  }\n}\n","<mat-card class=\"gs-context-menu-container\" (click)=\"open = false\">\n  <mat-card-title>{{ menuTitle }}</mat-card-title>\n  <mat-card-content class=\"gs-context-menu-overaly\">\n    <button mat-button class=\"context-menu-button\">Add</button>\n    <button mat-button class=\"context-menu-button\">Remove</button>\n    <button mat-button class=\"context-menu-button\">Keep</button>\n    <button mat-button class=\"context-menu-button\">Delete</button>\n    <button mat-button class=\"context-menu-button\">Restore</button>\n  </mat-card-content>\n</mat-card>\n","import { Component, OnInit, AfterViewInit, Input, Output } from '@angular/core';\nimport { fabric } from 'fabric';\nimport { Chess } from 'chessops/chess';\nimport { parseFen } from 'chessops/fen';\nimport { ColorService } from '../../services/colors.service';\nimport { BehaviorSubject } from 'rxjs';\nimport { preserveWhitespacesDefault } from '@angular/compiler';\nimport { Canvas } from 'fabric/fabric-impl';\nimport { Piece } from 'chessops/types';\n\nexport class BoardTheme {\n  constructor(\n    public tileLight: string = '',\n    public tileDark: string = '',\n    public pieceSet: string = '',\n    public isSpriteSheet = false,\n    public fileExtension = '.svg'\n  ) { }\n  static defaultTheme(cs: ColorService): BoardTheme {\n    return new BoardTheme(\n      cs.boardBGLight.value,\n      cs.boardBGDark.value,\n      cs.boardPieceSet.value\n    );\n  }\n}\n\nexport class BoardData {\n  constructor(\n    public fen: string = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1'\n  ) { }\n}\n\n@Component({\n  selector: 'app-board-canvas',\n  templateUrl: './board-canvas.component.html',\n  styleUrls: ['./board-canvas.component.scss'],\n})\nexport class BoardCanvasComponent implements OnInit, AfterViewInit {\n  @Input() UUID = '';\n  @Input() size = 320;\n  @Output() tileSize = Math.floor(this.size / 8);\n  @Input() interactive = true;\n  @Input() @Output() theme: BoardTheme | null = new BoardTheme();\n  @Input() @Output() data: BoardData | null = new BoardData();\n  @Output() pieceMap = new Map<string, fabric.Group>();\n  @Output() pieces: { tile: number; object: fabric.Group }[] = [];\n  @Output() tiles: { tile: fabric.Object, piece?: Piece }[] = [];\n  @Output() olgaBoard: fabric.Canvas | null = null;\n  @Output() orientation = 'white';\n  @Input() @Output() selectedPiece: { tile: number; object: fabric.Group } | null = null;\n  constructor() { }\n\n  ngOnInit(): void { }\n\n  ngAfterViewInit(): void {\n    fabric.Object.prototype.transparentCorners = false;\n    this.olgaBoard = new fabric.Canvas(this.UUID + '-board');\n    this.olgaBoard.selection = false;\n    const waitCount = this.loadPieces();\n    waitCount.subscribe((count) => {\n      if (count >= 12) {\n        this.generateBoard();\n        this.connectMouseInput();\n        waitCount.unsubscribe();\n      }\n    });\n    this.olgaBoard.hoverCursor = 'arrow';\n    this.setInteractive(this.interactive);\n  }\n\n  checkPieceCanMove(fromData: { tile: number; object: fabric.Group; piece: Piece | undefined }, toData: { tile: number; object: fabric.Group; piece: Piece | undefined }): boolean { return true; }\n\n  private checkValidDrop(e: fabric.IEvent): void {\n    if (this.selectedPiece?.object) {\n      const event = e.e as MouseEvent;\n      let row = Math.ceil(event.y / this.tileSize) - 1;\n      let col = Math.ceil(event.x / this.tileSize) - 1;\n      if (this.orientation == 'white') {\n        row = Math.ceil((this.size - event.y) / this.tileSize) - 1;\n      } else {\n        col = Math.ceil((this.size - event.x) / this.tileSize) - 1;\n      }\n      const tile = ((row * 8) + col);\n      const piece = this.selectedPiece.object;\n      const pieceToTake = this.pieces[tile];\n      if (event.x < 0 || event.x > this.size || event.y > this.size || event.y < 0) {\n        row = Math.floor(this.selectedPiece.tile / 8);\n        col = this.selectedPiece.tile % 8;\n        if (this.orientation == 'white') {\n          row = 7 - Math.floor(this.selectedPiece.tile / 8);\n        } else {\n          col = 7 - this.selectedPiece.tile % 8;\n        }\n      } else {\n        if (!this.checkPieceCanMove({\n          tile: this.selectedPiece.tile,\n          object: this.selectedPiece.object,\n          piece: this.tiles[this.selectedPiece.tile].piece\n        }, {\n          tile: tile,\n          object: pieceToTake?.object,\n          piece: this.tiles[tile].piece\n        })) {\n          row = Math.floor(this.selectedPiece.tile / 8);\n          col = this.selectedPiece.tile % 8;\n        }\n      }\n      if (this.orientation == 'white') {\n        piece.set('left', col * this.tileSize);\n        piece.set('top', (7 - row) * this.tileSize);\n      } else {\n        piece.set('left', (7 - col) * this.tileSize);\n        piece.set('top', row * this.tileSize);\n      }\n      piece.setCoords();\n      this.selectedPiece = null;\n    }\n  }\n\n  private selectPiece(e: fabric.IEvent): void {\n    const event = e.e as MouseEvent;\n    let row = Math.ceil(event.y / this.tileSize) - 1;\n    let col = Math.ceil(event.x / this.tileSize) - 1;\n    if (this.orientation == 'white') {\n      row = Math.ceil((this.size - event.y) / this.tileSize) - 1;\n    } else {\n      col = Math.ceil((this.size - event.x) / this.tileSize) - 1;\n    }\n    const tileIndex = ((row * 8) + col);\n    if (tileIndex >= 0 && tileIndex < 64) {\n      this.selectedPiece = this.pieces[tileIndex];\n      //this.highlightTile(tileIndex);\n    }\n  }\n\n  private clearBoard(): void {\n    this.pieces.forEach((piece) => {\n      this.olgaBoard?.remove(piece.object);\n    });\n    this.pieces = [];\n    this.tiles.forEach((tileData) => {\n      this.olgaBoard?.remove(tileData.tile);\n    });\n    this.tiles = [];\n  }\n\n  private connectMouseInput(): void {\n    if (this.olgaBoard) {\n      this.olgaBoard.on('object:moved', this.checkValidDrop.bind(this));\n      this.olgaBoard.on('mouse:down', this.selectPiece.bind(this));\n      this.olgaBoard.on('touch:drag', this.selectPiece.bind(this));\n    }\n  }\n\n  private generateTiles(): void {\n    if (this.olgaBoard) {\n      if (!this.theme) {\n        console.log('Cannot generate board without theme');\n        return;\n      }\n\n      let chess = null;\n\n      if (this.data && this.data.fen) {\n        const setup = parseFen(this.data.fen).unwrap();\n        chess = Chess.fromSetup(setup).unwrap();\n      }\n      let tileIndex = 0;\n      const padding = Math.floor((this.size - this.tileSize * 8) / 2);\n      for (let row = 0; row < 8; row++) {\n        for (let col = 0; col < 8; col++) {\n          // move this to clone feature, only create the tiles once.\n\n          const tile = new fabric.Rect({\n            width: this.tileSize,\n            height: this.tileSize\n          });\n\n          // create piece\n          if (this.orientation == 'white') {\n            tile.set('left', col * this.tileSize + padding);\n            tile.set('top', row * this.tileSize + padding);\n          } else {\n            tile.set('left', col * this.tileSize + padding);\n            tile.set('top', row * this.tileSize + padding);\n          }\n\n          tile.set('lockMovementX', true);\n          tile.set('lockMovementY', true);\n          tile.set('lockRotation', true);\n          tile.set('lockScalingX', true);\n          tile.set('lockScalingY', true);\n          tile.set('lockUniScaling', true);\n          tile.set('hasControls', false);\n          tile.set('hasBorders', false);\n          tile.set('selectable', false);\n          tile.setCoords();\n          if (row % 2 === 0) {\n            // even row 0, 2, 4, 6\n            if (col % 2 === 0) {\n              tile.setColor(this.theme.tileDark);\n            } else {\n              tile.setColor(this.theme.tileLight);\n            }\n          } else {\n            // odd row 1, 3, 5, 7\n            if (col % 2 === 0) {\n              tile.setColor(this.theme.tileLight);\n            } else {\n              tile.setColor(this.theme.tileDark);\n            }\n          }\n          this.tiles.push({ tile: tile });\n          if (chess) {\n\n            let squareData = chess.board.get(tileIndex);\n            // get the first and last of the role and color\n            const color = squareData?.color[0].toLowerCase();\n            let role = squareData?.role[0].toUpperCase();\n            if (squareData?.role === 'knight') {\n              role = 'N';\n            }\n            if (role && color) {\n              const pieceImage = this.pieceMap.get(color + role);\n              if (pieceImage) {\n                pieceImage.clone((clone: fabric.Group) => {\n                  clone.set('lockRotation', true);\n                  clone.set('lockScalingX', true);\n                  clone.set('lockScalingY', true);\n                  clone.set('lockUniScaling', true);\n                  clone.set('hasControls', false);\n                  clone.set('hasBorders', false);\n                  if (!this.interactive) {\n                    clone.set('lockMovementX', true);\n                    clone.set('lockMovementY', true);\n                  } else {\n                    clone.hoverCursor = 'grab';\n                    clone.moveCursor = 'grabbing';\n                  }\n                  if (this.orientation == 'white') {\n                    clone.set('left', Math.floor(col * this.tileSize) + padding);\n                    clone.set('top', Math.floor((7 - row) * this.tileSize) + padding);\n                  } else {\n                    clone.set('left', Math.floor((7 - col) * this.tileSize) + padding);\n                    clone.set('top', Math.floor(row * this.tileSize) + padding);\n                  }\n                  clone.scaleToHeight(this.tileSize);\n                  clone.setCoords();\n                  this.pieces[tileIndex] = { tile: tileIndex, object: clone };\n                  this.tiles[tileIndex].piece = squareData;\n                });\n              }\n            }\n          }\n          ++tileIndex;\n        }\n      }\n      this.tiles.forEach((tileData) => {\n        this.olgaBoard?.add(tileData.tile);\n        this.olgaBoard?.bringToFront(tileData.tile);\n      });\n      this.pieces.forEach((pieceObject) => {\n        this.olgaBoard?.add(pieceObject.object);\n        this.olgaBoard?.bringToFront(pieceObject.object);\n      });\n    }\n  }\n\n  private loadPieces(): BehaviorSubject<number> {\n    const count = new BehaviorSubject<number>(0);\n    this.loadPieceImage('wK', count);\n    this.loadPieceImage('wB', count);\n    this.loadPieceImage('wQ', count);\n    this.loadPieceImage('wR', count);\n    this.loadPieceImage('wP', count);\n    this.loadPieceImage('wN', count);\n    this.loadPieceImage('bK', count);\n    this.loadPieceImage('bB', count);\n    this.loadPieceImage('bQ', count);\n    this.loadPieceImage('bR', count);\n    this.loadPieceImage('bP', count);\n    this.loadPieceImage('bN', count);\n    return count;\n  }\n\n  private generateBoard(): void {\n    this.clearBoard();\n    this.generateTiles();\n  }\n\n  private loadPieceImage(\n    piece: string,\n    subject: BehaviorSubject<number>\n  ): void {\n    if (this.theme?.pieceSet) {\n      if (this.theme.isSpriteSheet) {\n      } else {\n        if (this.theme.fileExtension === '.svg') {\n          fabric.loadSVGFromURL(\n            this.theme.pieceSet + piece + this.theme.fileExtension,\n            (objects, options) => {\n              console.log('loaded ' + this.theme?.pieceSet + piece);\n              const obj = fabric.util.groupSVGElements(\n                objects,\n                options\n              ) as fabric.Group;\n              obj.left = -400;\n              obj.top = 0;\n              this.pieceMap.set(piece, obj);\n              subject.next(subject.value + 1);\n            }\n          );\n        }\n      }\n    }\n  }\n\n  private resizeBoardObjects(size: number): void {\n    const padding = Math.floor((this.size - this.tileSize * 8) / 2);\n    if (this.tiles.length > 0) {\n      for (let index = 0; index < 64; index++) {\n        const tile = this.tiles[index].tile;\n        const row = Math.floor(index / 8);\n        const col = index % 8;\n        tile.set('width', this.tileSize);\n        tile.set('height', this.tileSize);\n        tile.set('top', row * this.tileSize + padding);\n        tile.set('left', col * this.tileSize + padding);\n        tile.setCoords();\n      }\n    }\n\n    const difference = Math.floor(size - this.size) / 2;\n    this.pieces.forEach((pieceData) => {\n      const piece = pieceData.object;\n      if (\n        piece.left !== undefined &&\n        piece.top !== undefined &&\n        this.olgaBoard\n      ) {\n        const row = Math.floor(pieceData.tile / 8);\n        const col = pieceData.tile % 8;\n        piece.scaleToHeight(this.tileSize);\n        if (this.orientation == 'white') {\n          piece.set('left', Math.floor(col * this.tileSize) + padding);\n          piece.set('top', Math.floor((7 - row) * this.tileSize) + padding);\n        } else {\n          piece.set('left', Math.floor((7 - col) * this.tileSize) + padding);\n          piece.set('top', Math.floor(row * this.tileSize) + padding);\n        }\n        piece.setCoords();\n      }\n    });\n  }\n\n  setDarkTile(color: string): void {\n    if (this.theme) {\n      this.theme.tileDark = color;\n      for (let index = 0; index < 64; index++) {\n        const row = Math.floor(index / 8);\n        if (row % 2 === 0) {\n          if (index % 2 === 0) {\n            const tile = this.tiles[index].tile;\n            tile.set('fill', color);\n          }\n        } else {\n          if (index % 2 !== 0) {\n            const tile = this.tiles[index].tile;\n            tile.set('fill', color);\n          }\n        }\n      }\n      this.olgaBoard?.requestRenderAll();\n    } else {\n      console.log('Cannot set board-canvas tile dark with Null theme');\n    }\n  }\n\n  setLightTile(color: string): void {\n    if (this.theme) {\n      this.theme.tileLight = color;\n      for (let index = 0; index < 64; index++) {\n        const row = Math.floor(index / 8);\n        if (row % 2 !== 0) {\n          if (index % 2 === 0) {\n            const tile = this.tiles[index].tile;\n            tile.set('fill', color);\n          }\n        } else {\n          if (index % 2 !== 0) {\n            const tile = this.tiles[index].tile;\n            tile.set('fill', color);\n          }\n        }\n      }\n      this.olgaBoard?.requestRenderAll();\n    } else {\n      console.log('Cannot set board-canvas tile light with Null theme');\n    }\n  }\n\n  setSize(size: number): void {\n    if (this.olgaBoard) {\n      this.size = size;\n      this.tileSize = Math.floor(size / 8);\n      this.olgaBoard.width = size;\n      this.olgaBoard.height = size;\n      this.olgaBoard.setDimensions({\n        width: size,\n        height: size,\n      });\n      this.resizeBoardObjects(size);\n      this.olgaBoard.requestRenderAll();\n    }\n  }\n\n  setInteractive(interactive: boolean): void {\n    if (interactive) {\n      if (this.olgaBoard) {\n      }\n    } else {\n      if (this.olgaBoard) {\n      }\n    }\n  }\n\n  setFen(fen: string): void {\n    if (this.data) {\n      this.data.fen = fen;\n      this.clearBoard();\n      this.generateBoard();\n    }\n  }\n\n  requestRedraw(): void {\n    this.clearBoard();\n    this.generateBoard();\n  }\n}\n","<canvas id=\"{{ UUID }}-board\" style=\"position: absolute;\" [style.top]=\"0\" [style.left]=\"0\" [height]=\"size\"\n    [width]=\"size\" [style.width.px]=\"size\" [style.height.px]=\"size\" [style.z-index]=\"2\" resize>\n</canvas>","import {\n  Component,\n  OnInit,\n  ElementRef,\n  ViewChild,\n  AfterViewInit,\n  Input,\n  Output,\n} from '@angular/core';\nimport { fabric } from 'fabric';\nimport { ColorService } from '../services/colors.service';\nimport { EngineService } from '../services/engine.service';\nimport {\n  BoardCanvasComponent,\n  BoardTheme,\n  BoardData,\n} from './board-canvas/board-canvas.component';\nimport { Board } from 'chessops/board';\nimport { Role, Move, Piece } from 'chessops/types';\n\n@Component({\n  selector: 'app-olga-board',\n  templateUrl: './olga-board.component.html',\n  styleUrls: ['./olga-board.component.scss'],\n})\nexport class OlgaBoardComponent implements OnInit, AfterViewInit {\n  @Input() UUID = '';\n  @ViewChild(BoardCanvasComponent)\n  board: BoardCanvasComponent | null = null;\n  @Input() @Output() theme: BoardTheme | null = null;\n  @ViewChild('ogBoard', { static: false }) background: ElementRef | null = null;\n  constructor(\n    public colorService: ColorService,\n    public engineService: EngineService\n  ) {\n    this.theme = BoardTheme.defaultTheme(this.colorService);\n    fabric.Object.prototype.objectCaching = true;\n  }\n\n  ngOnInit(): void {\n    this.colorService.boardBGDark.subscribe((dark) => {\n      if (this.board) {\n        this.board.setDarkTile(dark);\n      }\n    });\n    this.colorService.boardBGLight.subscribe((light) => {\n      if (this.board) {\n        this.board.setLightTile(light);\n      }\n    });\n  }\n  toRole(role: string): Role {\n    return role as Role;\n  }\n  ngAfterViewInit(): void {\n    // board is legit, attach engine\n    if (this.board) {\n      this.board.checkPieceCanMove = this.engineService.makeMove.bind(this.engineService);\n      this.engineService.boardChanged.subscribe(this.updateBoard.bind(this));\n    }\n  }\n\n\n  setBoardSize(size: number): void {\n    this.board?.setSize(size);\n  }\n\n  setFen(fen: string): void {\n    this.board?.setFen(fen);\n  }\n\n  updateBoard(change: boolean): void {\n    if (this.board) {\n      this.board.setFen(this.engineService.getFen());\n    }\n  }\n}\n","<app-board-canvas [theme]=\"theme\">\n\n</app-board-canvas>","import { Component, OnInit, Input } from '@angular/core';\nimport { GameScoreService } from '../services/game-score.service';\n\n@Component({\n  selector: 'app-playermove',\n  templateUrl: './playermove.component.html',\n  styleUrls: ['./playermove.component.scss']\n})\nexport class PlayermoveComponent implements OnInit {\n  @Input() move: string = '';\n  @Input() black = false;\n  constructor(public gameScoreService: GameScoreService) { }\n\n  ngOnInit(): void {\n\n  }\n\n}\n","<div  *ngIf=\"this.move.length === 2\">\n  <a class=\"score-invismove\" [style.font-size.px]=\"gameScoreService.scoreFontSize | async\" [style.font-family]=\"gameScoreService.scoreFontFamily | async\" *ngIf=\"this.black\">Q</a>\n  <a class=\"score-move\" [style.font-size.px]=\"gameScoreService.scoreFontSize | async\"  [style.font-family]=\"gameScoreService.scoreFontFamily | async\">{{this.move}}</a>\n  <a class=\"score-invismove\" [style.font-size.px]=\"gameScoreService.scoreFontSize | async\" [style.font-family]=\"gameScoreService.scoreFontFamily | async\" *ngIf=\"!this.black\">Q</a>\n</div>\n<div  *ngIf=\"this.move.length !== 2\">\n  <a class=\"score-move\"  [style.font-size.px]=\"gameScoreService.scoreFontSize | async\" [style.font-family]=\"gameScoreService.scoreFontFamily | async\">{{this.move}}</a>\n</div>\n\n","import { Injectable, Output, Input } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ColorService {\n  // DEFAULTING TO DARK COLOR PALLETE\n  // Main Elements (background, sub containers, context menu)\n  @Input() @Output() readonly textColor = 'white'; // Main Text Color\n  @Input() @Output() readonly textColorAttention = 'purple'; // Attention text\n  @Input() @Output() readonly textColorRemove = 'red'; // Remove/Delete/Close\n  @Input() @Output() readonly textColorAdd = 'green'; // Add/Create/Open\n  @Input() @Output() readonly textColorActive = 'light-blue'; // Add/Create/Open\n  @Input() @Output() readonly background = '#434343'; // Main background Color\n  @Input() @Output() readonly bgContainer = '#353535'; // background of Containers\n  @Input() @Output() readonly bgMenu = '#353535'; // background of Menus\n  @Input() @Output() readonly bgItem = '#353535'; // background of containers\n\n  // Context menu\n  @Input() readonly bgContext = '#CC9966';\n  @Input() readonly textColorContext = 'white';\n  @Input() readonly borderContext = 'solid black 1px';\n  @Input() readonly overlayContextBackground = 'rgb(199,199,199)';\n  @Input() readonly overlayContextBackgroundGradient =\n    'linear-gradient(153deg, rgba(199,199,199,0.9051995798319328) 41%, rgba(249,249,249,0.8911939775910365) 83%)';\n\n  // Control Elements (Buttons, sliders, number wheels, toggle switches)\n  @Input() @Output() readonly fgItem = '#00ffffff';\n  @Input() @Output() readonly fgItemContrast = '#e25400';\n\n  // Board Colors\n  @Input() @Output() readonly boardBGDark = new BehaviorSubject<string>(\n    '#81388f'\n  );\n  @Input() @Output() readonly boardBGLight = new BehaviorSubject<string>(\n    '#e0fffb'\n  );\n  @Input() @Output() readonly boardPieceSet = new BehaviorSubject<string>(\n    '../../assets/images/pieces/merida/'\n  );\n\n  // Game Score Variables\n  @Input() @Output() readonly gsTextColor = new BehaviorSubject<string>(\n    'white'\n  );\n  @Input() @Output() readonly gsBackground = new BehaviorSubject<string>(\n    '#353535'\n  );\n  @Input() @Output() readonly gsBorder = new BehaviorSubject<string>('white 2px dotted');\n  @Input() @Output() readonly gsTextSize = new BehaviorSubject<string>('24px');\n\n  // Game Score Highlight Colors\n  @Input() @Output() readonly gsTextColorHG = new BehaviorSubject<string>(\n    'white'\n  );\n  @Input() @Output() readonly gsBackgroundHG = new BehaviorSubject<string>(\n    '#353535'\n  );\n  @Input() @Output() readonly gsBorderHG = new BehaviorSubject<string>(\n    'black 1px solid'\n  );\n\n  // Game Score Annotation Colors\n\n\n  // Game Score Variation Colors\n  @Input() @Output() readonly gsTextColorVA = new BehaviorSubject<string>(\n    'white'\n  );\n  @Input() @Output() readonly gsBackgroundVA = new BehaviorSubject<string>(\n    '#353535'\n  );\n  @Input() @Output() readonly gsBorderVA = new BehaviorSubject<string>(\n    'black 1px solid'\n  );\n\n  // Game Score Ply Count\n  @Input() @Output() readonly gsTextColorPC = new BehaviorSubject<string>(\n    'white'\n  );\n  @Input() @Output() readonly gsBackgroundPC = new BehaviorSubject<string>(\n    '#353535'\n  );\n  @Input() @Output() readonly gsBorderPC = new BehaviorSubject<string>(\n    'black 1px solid'\n  );\n\n  // Menu specific Colors\n\n  // Title Colors\n  constructor() { }\n\n  setDarkColorPalette(): void { }\n\n  setLightColorPalette(): void { }\n\n  setStoredColorPalette(): void {\n    // 1.) Read User color palette sent from CG.com\n    // 2.) Look for a cookie on disk (load from disk)\n    // 3.) User default CSS Styled color palette\n  }\n\n  initializeColorPalette(): void {\n    console.log('Setting primary color to ' + this.fgItem);\n    // Main Elements\n    document.documentElement.style.setProperty('--textCoolor', this.textColor);\n    document.documentElement.style.setProperty(\n      '--itextColorAttention',\n      this.textColorAttention\n    );\n    document.documentElement.style.setProperty(\n      '--textColorRemove',\n      this.textColorRemove\n    );\n    document.documentElement.style.setProperty(\n      '--textColorAdd',\n      this.textColorAdd\n    );\n    document.documentElement.style.setProperty(\n      '--textColorActive',\n      this.textColorActive\n    );\n    document.documentElement.style.setProperty('--background', this.background);\n    document.documentElement.style.setProperty('--bgItem', this.bgItem);\n    document.documentElement.style.setProperty(\n      '--bgContainer',\n      this.bgContainer\n    );\n    document.documentElement.style.setProperty('--bgMenu', this.bgMenu);\n\n    // Context Menu\n    document.documentElement.style.setProperty('--bgContext', this.bgContext);\n    document.documentElement.style.setProperty(\n      '--overlayContextBackground',\n      this.overlayContextBackground\n    );\n    document.documentElement.style.setProperty(\n      '--textColorContext',\n      this.textColorContext\n    );\n    document.documentElement.style.setProperty('--bgContext', this.bgContext);\n    document.documentElement.style.setProperty(\n      '--overlayContextBackgroundGradient',\n      this.overlayContextBackgroundGradient\n    );\n    document.documentElement.style.setProperty(\n      '--borderContext',\n      this.borderContext\n    );\n\n    // Game Score\n    document.documentElement.style.setProperty('--gsBackground', this.gsBackground.value);\n    document.documentElement.style.setProperty(\n      '--gsTextColor',\n      this.gsTextColor.value\n    );\n    document.documentElement.style.setProperty(\n      '--gsTextSize',\n      this.gsTextSize.value\n    );\n    document.documentElement.style.setProperty(\n      '--gsBackground',\n      this.gsBackground.value\n    );\n    document.documentElement.style.setProperty(\n      '--gsBorder',\n      this.gsBorder.value\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { parseFen, makeFen, parsePiece } from 'chessops/fen';\nimport { makeSan, makeSanAndPlay } from 'chessops/san';\nimport { Chess, Position } from 'chessops/chess';\nimport { Piece, Move, ROLES } from 'chessops/types';\nimport { transformBoard } from 'chessops/transform';\nimport { makeSquare } from 'chessops/util';\n//import { Chess, Position } from 'chessops/variant'\nimport { BehaviorSubject } from 'rxjs';\nimport { SquareSet } from 'chessops/squareSet';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class EngineService {\n  chessEngine: Position = Chess.default();\n  readonly boardChanged = new BehaviorSubject<boolean>(false);\n  readonly abreviatedSan = new BehaviorSubject<boolean>(false);\n  constructor() {\n    // this.chessEngine.board = transformBoard(this.chessEngine.board, (s: SquareSet) => { console.log(s); return s; });\n    this.boardChanged.next(true);\n  }\n  private generateSAN(fromData: { tile: number; object: fabric.Group; piece: Piece | undefined }, toData: { tile: number; object: fabric.Group; piece: Piece | undefined }): string {\n    if (this.abreviatedSan.value) {\n      return ''; // abreviated\n    }\n    return ''// non abreviated\n  }\n  makeMove(fromData: { tile: number; object: fabric.Group; piece: Piece | undefined }, toData: { tile: number; object: fabric.Group; piece: Piece | undefined }): boolean {\n    if (fromData.piece) {\n      this.chessEngine.epSquare = fromData.tile;\n      console.log('from: ' + makeSquare(fromData.tile));\n      console.log(this.chessEngine.board.get(fromData.tile));\n      console.log('to: ' + makeSquare(toData.tile));\n      console.log(this.chessEngine.board.get(toData.tile));\n      const move = { from: fromData.tile, to: toData.tile } as Move;\n      if (this.chessEngine.isLegal(move)) {\n        if (toData.object) {\n          toData.object.remove();\n        }\n        const san = makeSanAndPlay(this.chessEngine, move);\n        //const piece = {role:'', color:''} as Piece;\n        //this.chessEngine.board.set(fromData.tile, piece);\n        this.boardChanged.next(!this.boardChanged.value);\n        // add san to game score\n        console.log(san);\n        return true;\n      }\n      const san = makeSan(this.chessEngine, { role: fromData.piece.role, to: toData.tile } as Move);\n      if (san.search('@') >= 0) {\n\n      }\n      console.log('Attempting to make invalid move ' + san);\n      console.log('board believes tile has:');\n      console.log(this.chessEngine.board.get(toData.tile));\n    }\n    return false;\n  };\n\n  checkPosition(row: string, rank: string): Piece | undefined {\n    return this.chessEngine?.board.get(0);\n  }\n  getFen(): string {\n    return makeFen(this.chessEngine.toSetup());\n  }\n}\n","import { Injectable, Input, Output } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n\nexport class GameScoreMove {\n  move = '';\n  ply = 1;\n  constructor(move = '', ply = 1) { this.move = move; this.ply = ply; }\n}\n\nexport class GameScoreVariation {\n  variationData: GameScoreItem[];\n  constructor(variationData: GameScoreItem[] = []) { this.variationData = variationData; }\n}\n\nexport class GameScoreAnnotation {\n  annotation = '';\n  constructor(annotation: string = '') { this.annotation = annotation; }\n}\n\n\nexport class GameScoreItem {\n  type: GameScoreType | null = null;\n  moveData: GameScoreMove | null = null;\n  annotationData: GameScoreAnnotation | null = null;\n  variationData: GameScoreVariation | null = null;\n  constructor(type: GameScoreType, moveData: GameScoreMove | null = null,\n    annotationData: GameScoreAnnotation | null = null, variationData: GameScoreVariation | null = null) {\n    this.type = type;\n    this.moveData = moveData;\n    this.annotationData = annotationData;\n    this.variationData = variationData;\n  }\n}\n\nexport enum GameScoreType {\n  GameScoreGroup = 121,\n  Variation\n}\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GameScoreService {\n  //\n  @Input() @Output() readonly figurineNotation = new BehaviorSubject<boolean>(false);\n  @Output() readonly items = new BehaviorSubject<GameScoreItem[]>([]);\n  @Output() readonly annotations = new BehaviorSubject<GameScoreAnnotation[]>([]);\n  @Output() readonly variation = new BehaviorSubject<GameScoreVariation[]>([]);\n\n  // Visual Settings\n  @Output() readonly scoreFontFamily = new BehaviorSubject<string>('Caveat');\n  @Output() readonly scoreFontSize = new BehaviorSubject<number>(18);\n  constructor() { }\n\n  public loadPGN(pgn: string) {\n    const testmove = new GameScoreMove('ex4');\n    const testItem = new GameScoreItem(GameScoreType.GameScoreGroup, testmove);\n    this.items.next([testItem]);\n  }\n  public clearItems(): void {\n\n  }\n  public typeToString(type: GameScoreType): string {\n    return GameScoreType[type];\n  }\n\n}\n","import { Injectable, ElementRef } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { Olga } from '../app.component';\nimport { GamescoreUxComponent } from '../game-score/game-score.ux';\nimport { OlgaBoardComponent } from '../olga-board/olga-board.component';\n\n\nexport declare type Layout = 'auto' | 'landscape' | 'portrait';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class LayoutService {\n  readonly landscapeOrientation = new BehaviorSubject<boolean>(true);\n  readonly boardSize = new BehaviorSubject<number>(480);\n  readonly scoreSize = new BehaviorSubject<number>(340);\n  olga: Olga | null = null;\n  appContainer: ElementRef | null = null;\n  gameScore: GamescoreUxComponent | null = null;\n  board: OlgaBoardComponent | null = null;\n  preferredLayout: Layout = 'auto';\n  preferredRatio = .3;\n  constructor() { }\n  private resizeToLandscape(width: number, height: number) {\n    console.log('Olga with Landscape layout');\n    let padding = width * 0.05;\n    if (padding >= 38 || padding <= 16) {\n      padding = 30;\n    }\n    let boardSize = Math.floor((1 - this.preferredRatio) * width);\n    if (boardSize > height) {\n      boardSize = height - (padding / 2);\n    }\n    const gsSize = (width - boardSize) - padding;\n    this.board?.setBoardSize(boardSize);\n    if (this.olga && this.olga.gameScore) {\n      this.olga.gameScore.style.top = '1px'; // 64 represents the controls ux\n      this.olga.gameScore.style.width = gsSize.toString() + 'px';\n      this.olga.gameScore.style.height = (boardSize - 64).toString() + 'px';\n      // set the object class to portrait class      \n    }\n    this.boardSize.next(boardSize);\n    this.scoreSize.next(gsSize);\n\n  }\n  private resizeToPortrait(width: number, height: number) {\n    console.log('Olga with Portrait layout');\n    const boardSize = width - 6;\n    this.board?.setBoardSize(boardSize);\n    if (this.olga && this.olga.gameScore) {\n      this.olga.gameScore.style.top = (boardSize + 64 + 'px'); // 64 represents the controls ux\n      this.olga.gameScore.style.width = '100%';\n      // set the object class to portrait class      \n    }\n  }\n  initializeLayout(olga: Olga, autoResize = true): void {\n    this.olga = olga;\n    this.gameScore = olga.gameScoreUx;\n    this.board = olga.olgaBoard;\n    this.appContainer = olga.olgaContainer;\n    if (autoResize) {\n      window.removeEventListener('resize', this.resizeLayout.bind(this));\n      window.addEventListener('resize', this.resizeLayout.bind(this));\n    }\n    this.resizeLayout()\n  }\n\n  onSliderDrag(event: DragEvent): void {\n    if (event && event.clientX > 64) {\n      if (this.olga?.olgaBoard) {\n        let gsSize = window.innerWidth - event.clientX;\n        const widthAvailable = window.innerWidth - (gsSize + 28);\n        let boardSize = Math.floor(widthAvailable / 8) * 8;\n        if (boardSize > window.innerHeight) {\n          boardSize = Math.floor((window.innerHeight - 16) / 8) * 8;\n          gsSize = window.innerWidth - boardSize + 28;\n        }\n        this.board?.setBoardSize(boardSize);\n        if (this.olga && this.olga.gameScore) {\n          this.olga.gameScore.style.width = gsSize.toString() + 'px';\n          this.olga.gameScore.style.height = (boardSize - 64).toString() + 'px';\n          // set the object class to portrait class      \n        }\n      }\n    }\n  }\n\n  resizeLayout(): void {\n    if (!this.appContainer) {\n      console.log('Invalid (Null) App Container %$@');\n    } else {\n      const width = this.appContainer.nativeElement.clientWidth;\n      const height = this.appContainer.nativeElement.clientHeight;\n      switch (this.preferredLayout) {\n        case 'auto': {\n          if (width >= height) {\n            this.resizeToLandscape(width, height);\n          } else {\n            this.resizeToPortrait(width, height);\n          }\n          break;\n        }\n        case 'landscape': {\n          this.resizeToLandscape(width, height);\n          break;\n        }\n        case 'portrait': {\n          this.resizeToPortrait(width, height);\n          break;\n        }\n      }\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-settings-board',\n  templateUrl: './settings-board.component.html',\n  styleUrls: ['./settings-board.component.scss']\n})\nexport class SettingsBoardComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>settings-board works!</p>\n","import {\n  Component,\n  OnInit,\n  Output,\n  AfterViewInit,\n  ViewChild,\n  ElementRef,\n} from '@angular/core';\nimport { GameScoreService } from '../../services/game-score.service';\nimport { ColorService } from '../../services/colors.service';\nimport { MatSliderChange } from '@angular/material/slider';\n\n@Component({\n  selector: 'app-gamescore-settings',\n  templateUrl: './settings-gamescore.component.html',\n  styleUrls: ['./settings-gamescore.component.scss'],\n})\nexport class GamescoreSettingsComponent implements OnInit, AfterViewInit {\n  constructor(\n    public gameScoreService: GameScoreService,\n    public colorService: ColorService\n  ) {}\n  @ViewChild('lightBGHandle', { static: true })\n  lightBGHandle: ElementRef | null = null;\n   @ViewChild('darkBGHandle', { static: true })\n  darkBGHandle: ElementRef | null = null;\n\n  ngOnInit(): void {}\n  ngAfterViewInit(): void {\n    if (this.lightBGHandle) {\n      this.lightBGHandle.nativeElement.value = this.colorService.boardBGLight.value;\n    }\n    if (this.darkBGHandle) {\n      this.darkBGHandle.nativeElement.value = this.colorService.boardBGDark.value;\n    }\n  }\n}\n","<!-- <mat-card>\n  <mat-card-title>\n    Choose Layout\n  </mat-card-title>\n  <mat-card-subtitle>\n    Settings\n  </mat-card-subtitle>\n  <mat-card-actions>\n    <button mat-raised-button color=\"primary\" >Portrait</button>\n    <button mat-raised-button color=\"primary\" >Landscape</button>\n  </mat-card-actions>\n</mat-card>\n<br/>\n<mat-card >\n  <mat-card-title>\n    Choose Size\n  </mat-card-title>\n  <mat-card-subtitle>\n    Settings\n  </mat-card-subtitle>\n  <mat-card-actions>\n    <button mat-raised-button class=\"blue-button\" >Small</button>\n    <button mat-raised-button class=\"blue-button\" >Medium</button>\n    <button mat-raised-button color=\"primary\" >Large</button>\n    <br/>\n    <label>\n      <input type=\"checkbox\" name=\"my-checkbox\" checked> Select me\n  </label>\n  <label>\n      <input type=\"checkbox\" name=\"my-checkbox\"> Select me\n  </label>\n  </mat-card-actions>\n</mat-card>\n<br/> -->\n<mat-card>\n  <mat-card-title>\n    Colors\n  </mat-card-title>\n  <mat-card-subtitle>\n    Settings\n  </mat-card-subtitle>\n  <mat-card-content>\n    <div>Light Background</div>\n    <input\n      #lightBGHandle\n      matInput\n      type=\"color\"\n      id=\"lightColor\"\n      class=\"color-input\"\n      (input)=\"colorService.boardBGLight.next(lightBGHandle.value)\"\n    />\n    <div>Dark Background</div>\n    <input\n      #darkBGHandle\n      matInput\n      type=\"color\"\n      id=\"darkColor\"\n      class=\"color-input\"\n      (input)=\"colorService.boardBGDark.next(darkBGHandle.value)\"\n    />\n    <br />\n    <!-- <div>Font Size</div>\n    <mat-slider #scoreFontSize thumbLabel class=\"small-slider\" (input)=\"gameScoreService.scoreFontSize.next(($event.value ? $event.value : 18))\" value=\"18\" min=\"14\" max=\"24\" step=\"1\" color=\"primary\" ></mat-slider>\n    <br/>\n    <label class=\"switch\">\n      <input type=\"checkbox\" #figureNotation (change)=\"gameScoreService.figurineNotation.next(figureNotation.checked)\">\n      <div style=\"font-size:12px; text-align:center;\">Figurine Notation</div>\n    </label>\n    <br/>\n    Font Family\n    <select>\n      <option>Cambria</option>\n      <option>Times New Roman</option>\n    </select> -->\n  </mat-card-content>\n</mat-card>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-settings-menu',\n  templateUrl: './settings-menu.component.html',\n  styleUrls: ['./settings-menu.component.scss']\n})\nexport class SettingsMenuComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"settings-window\">\n    <app-gamescore-settings></app-gamescore-settings>\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"sourceRoot":"webpack:///"}